'''
0: 00
1: 11
2: 12
3: 13
4: 22
5: 23
6: 33
'''
f = [0 for i in range(7)]
f[0] = 4
f[1] = 12
n = 5
p = 1000004321
for i in range(1, n):
	g = [0 for i in range(7)]
	g[0] = (f[0] * 3 + f[1] * 2 + f[2] * 4 + f[3] * 4 + f[4] * 2 + f[5] * 4 + f[6] * 2) % p
	g[1] = (f[0] * 6 + f[1] * 0 + f[2] * 0 + f[3] * 0 + f[4] * 0 + f[5] * 0 + f[6] * 0) % p
	g[2] = (f[0] * 0 + f[1] * 2 + f[2] * 2 + f[3] * 2 + f[4] * 0 + f[5] * 0 + f[6] * 0) % p
	g[3] = (f[0] * 0 + f[1] * 0 + f[2] * 2 + f[3] * 0 + f[4] * 2 + f[5] * 2 + f[6] * 0) % p
	g[4] = (f[0] * 0 + f[1] * 1 + f[2] * 0 + f[3] * 0 + f[4] * 0 + f[5] * 0 + f[6] * 0) % p
	g[5] = (f[0] * 0 + f[1] * 0 + f[2] * 1 + f[3] * 0 + f[4] * 0 + f[5] * 0 + f[6] * 0) % p
	g[6] = (f[0] * 0 + f[1] * 0 + f[2] * 0 + f[3] * 0 + f[4] * 1 + f[5] * 0 + f[6] * 0) % p
	f = g
print f
print (sum(f) + f[2] + f[3] + f[5]) % p